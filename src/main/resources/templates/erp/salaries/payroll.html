<!DOCTYPE html>
<!-- Thymeleaf 및 레이아웃 선언 - 레이아웃 구조를 사용하기 위한 필수 선언 -->
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layouts/layout}"> 
<head>
	<!-- 그리드 -->
	<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
	<link rel="stylesheet" href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
	
    <!-- 기본 메타 정보 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CMT</title>
<style>
		
</style>
</head>
<body>

	<div layout:fragment="content">
		<h3>급여 대장</h3>						   
		<!-- 문서함 탭 영역 -->
		<div class="card">
			<div class="card-header">
				<ul class="nav nav-tabs" id="payrollTab" role="tablist">
					<li class="nav-item" role="presentation">
						<button class="nav-link active" id="monthly-tab" data-bs-toggle="tab" data-bs-target="#monthly" type="button"
								role="tab" aria-controls="monhly" aria-selected="true">월별 급여대장</button>
					</li>
					<li class="nav-item" role="presentation">
						<button class="nav-link" id="yearly-tab" data-bs-toggle="tab" data-bs-target="#yearly" type="button"
								role="tab" aria-controls="yearly" aria-selected="false">연간 급여대장</button>
					</li>
				</ul>
			</div>
			<div class="card-body">
				<!-- 탭 컨텐츠 영역 -->
				<div class="tab-content" id="documentTabContent">
					<!-- 월별 급여대장 탭 -->
			   		<div class="tab-pane fade show active" id="monthly" role="tabpanel" aria-labelledby="monthly-tab">
						<div style="margin-bottom: 10px; display: flex; align-items: center;">
							<select class="form-select" id="monthlySelect" style="width: 200px;">
								<option value="">월 선택</option>
							</select>
						</div>
			            <div id="monthlyGrid" style="width: 100%; height: 500px;"></div>
			        </div>
			   		<!-- 연간 급여대장 탭 -->
			   		<div class="tab-pane fade" id="yearly" role="tabpanel" aria-labelledby="yearly-tab">
						<div style="margin-bottom: 10px; display: flex; align-items: center;">
							<select class="form-select" id="yearlySelect" style="width: 200px;">
						    	<option value="">연도 선택</option>
							</select>
						</div>
			    		<div id="yearlyGrid" style="width: 100%; height: 500px;"></div>
			    	</div>    
				</div>
			</div>
		</div>
	
	    
	    <script th:inline="javascript">

	    const grid = new tui.Grid({
	        el: document.getElementById('monthlyGrid'), 
			data : /*[[${monthlyPayroll}]]*/ [],
	        rowHeaders: ['checkbox'], 
	        columns: [
				{
					header: '지급월',
					name: 'sliType' 
				},
				{
				    header: '대장명',
				    name: 'sliName' 
				},
				{ 	
					header: '인원수',
				    name: 'sliPriority'
				},
				{ 	header: '급여대장',
				    name: 'sliDesc'
				},
				{ 	header: '지급총액',
				    name: 'sliFormula'
				}
			]
	    });
	    
	 	// 체크박스 클릭 시 이벤트 추가
	    monthlyGrid.on('check', (checkItem) => {
	        console.log("체크 확인");
	    });

	    // 체크 해제 시 이벤트 추가
	    monthlyGrid.on('uncheck', (checkItem) => {
	    	console.log("체크 해제 확인");
	    });
		
		
		const grid2 = new tui.Grid({
		    el: document.getElementById('yearlyGrid'), 
			data : /*[[${yearlyPayroll}]]*/ [],
		    rowHeaders: ['checkbox'], 
		    columns: [
				{	
					header: '지급연도',
				    name: 'sliType' 
				},
				{ 	
					header: '대장명(연간)',
				    name: 'sliName'
				},
				{ 	
					header: '총 인원',
				    name: 'sliPriority'
				},
				{ 	
					header: '급여 요약',
				    name: 'sliDesc'
				},
				{ 	
					header: '총지급액',
				    name: 'sliFormula' 
				}
			]
		});
		
		// 체크박스 클릭 시 이벤트 추가
		yearlyGrid.on('check', (checkItem) => {
		    console.log("체크 확인");
		});

		// 체크 해제 시 이벤트 추가
		yearlyGrid.on('uncheck', (checkItem) => {
			console.log("체크 해제 확인");
		});
		

	    </script>
	    <!-- 그리드 끝 --> 

	</div>

	
    <th:block layout:fragment="script">

    </th:block>
</body>
</html>